<html xmlns:th="http//thymeleaf.org">

<div th:fragment="chat-widget">
<link rel="stylesheet" type="text/css" th:href="@{/css/chat-widget.css}" />
<script type="text/javascript" th:src="@{/js/sockjs.min.js}"></script>
<script type="text/javascript" th:src="@{/js/stomp.min.js}"></script>
<script type="text/javascript" th:src="@{/js/chat.js}"></script>

	<div class="chat">
		
		<div sec:authorize="hasRole('ROLE_USER')"> 	
			<span id="from" sec:authentication="name"></span> 
			<!-- <span sec:authentication="principal.authorities">[ROLE_USER, ROLE_ADMIN]</span> -->
		</div>

		<div>
			<button class="submitbtn" id="connect" onclick="connect();">Connect</button>
			<button class="cancelbtn" id="disconnect" onclick="disconnect();">
				Disconnect</button>
		</div>

		<div id="conversationDiv">
			<div class="chat-history">
				<p id="response"></p>
			</div>
			<textarea class="textbox" id="text" placeholder="Write a message..."
				rows="3"></textarea>
			<button class="submitbtn" id="sendMessage" onclick="sendMessage();">Send</button>
		
		</div>

	</div>

</div>