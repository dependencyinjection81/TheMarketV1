<html xmlns:th="http//thymeleaf.org">

<div id="online-users" th:fragment="online-users">
	
	<div class="user-list">

		<h3>Online users</h3>

		
		<ul class="list" th:each="user : ${users}">

			<li class="user-item">
				
				<div class="centered-form-input">
					<svg class="l-icon" style="position: relative"><use xlink:href="#icon-user"></use></svg>
				</div>
				
				<div class="about">
					<a class="name" href="" th:text="${user}"></a>
				</div>
			
			</li>

		</ul>
		   
        <button class="submitbtn" id="searchButton" name="searchButton" onclick="GetAllOnlineUsers()" type="button">Search button</button>
		
	</div>
	
	<script type="text/javascript">	
					
			/**Get request to ajax endpoint online-users**/
			function GetAllOnlineUsers() {
			        $.ajax({
			        type: 'GET',
			        url: '/online-users',
			        dataType: 'html',
			        async: true,
			        success: function(result) {	
			        	/*Update the desired element*/
					    $("#online-users").html(result);			        	
			        }			        
			   });
			}
			
	</script>
	
	<style>
	
	.user-list {
	  display: grid;
	  grid-template-columns: 1fr;
	  grid-template-rows: 80px auto;
	  
	  grid-gap: 1em;
	  align-items: center;
	  justify-content: center;
	
	  width: 300px;
	  color: var(--color-white-creme);
	  background: var(--color-grey-dark);
	  border-radius: 0px;
	
	}
	
	h3 {
		text-align: center;
	}
	
	
	.about {
	    padding-left: 8px;
	}
	
	.list {
	  display: grid;
	  grid-template-columns: 1fr;
	  grid-template-rows: auto;
	}
	
	.user-item {
	  display: grid;
	  grid-gap: 1em;
	  grid-template-columns: 1fr 4fr;
	  align-content: center;
	  align-items: center;
	  justify-content: center;
	}
	
	</style>

</div>